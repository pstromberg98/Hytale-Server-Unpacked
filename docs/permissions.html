<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Permissions - Hytale Server Documentation</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <button class="menu-toggle" onclick="toggleMenu()">&#9776;</button>
    <aside class="sidebar">
        <div class="sidebar-header">
            <h1>Hytale Server</h1>
            <div class="subtitle">Internal Documentation</div>
            <div class="sidebar-controls">
                <button class="search-trigger" onclick="openSearch()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                    Search...
                    <kbd>&#8984;K</kbd>
                </button>
                <button class="theme-toggle" onclick="toggleTheme()" title="Toggle theme">&#9728;</button>
            </div>
        </div>
        <nav>
            <div class="nav-section">Start</div>
            <a href="index.html">Overview</a>
            <a href="getting-started.html">Getting Started</a>
            <div class="nav-section">Architecture</div>
            <a href="ecs.html">ECS Architecture</a>
            <a href="threading.html">Threading Model</a>
            <a href="networking.html">Networking</a>
            <a href="worlds.html">Worlds &amp; Universe</a>
            <div class="nav-section">Systems</div>
            <a href="events.html">Event System</a>
            <a href="commands.html">Command System</a>
            <a href="permissions.html" class="active">Permissions</a>
            <a href="teleportation.html">Teleportation</a>
            <div class="nav-section">World</div>
            <a href="blocks.html">Blocks</a>
            <a href="worldgen.html">World Generation</a>
            <div class="nav-section">Client</div>
            <a href="ui.html">UI &amp; HUD</a>
            <a href="sound.html">Sound &amp; Audio</a>
            <div class="nav-section">Entities</div>
            <a href="entities.html">Entities &amp; NPCs</a>
            <a href="npc.html">NPC &amp; AI</a>
            <a href="players.html">Players</a>
            <a href="items.html">Items &amp; Inventory</a>
            <a href="combat.html">Damage &amp; Combat</a>
            <div class="nav-section">Development</div>
            <a href="plugins.html">Plugin Development</a>
            <a href="configuration.html">Configuration</a>
            <a href="data-packs.html">Data Packs</a>
            <div class="nav-section">Reference</div>
            <a href="reference.html">ECS Catalog</a>
        </nav>
    </aside>

    <main class="main">
        <nav class="page-toc"></nav>
        <div class="content">
            <h1>Permissions System</h1>
            <p class="page-desc">Group-based permission system with dot-notation nodes, pluggable permission providers, operator management, permission events, and command integration.</p>

            <!-- ============================================================ -->
            <!-- OVERVIEW -->
            <!-- ============================================================ -->
            <h2>Overview</h2>
            <p>Hytale implements a <strong>group-based permission system</strong> using dot-separated permission nodes. Unlike Minecraft's simple boolean op flag, Hytale's permissions are granular: each action, command, or feature gate is controlled by a specific permission string (e.g. <code>hytale.editor.asset</code>). "Op" status is simply membership in the <code>"OP"</code> group, which holds the wildcard permission <code>"*"</code>.</p>

            <p>The permission system is built around three core abstractions:</p>
            <ul>
                <li><strong>PermissionHolder</strong> &mdash; Interface for any object that can be checked for permissions</li>
                <li><strong>PermissionProvider</strong> &mdash; Pluggable backend that stores and retrieves permission data</li>
                <li><strong>PermissionsModule</strong> &mdash; Singleton coordinator that aggregates results across all registered providers</li>
            </ul>

            <div class="info-box note">
                <strong>Note:</strong> There is no <code>isOp()</code> method anywhere in the codebase. Op status is determined by checking group membership in the <code>"OP"</code> group, or by the fact that the <code>"*"</code> wildcard permission matches all permission checks.
            </div>

            <!-- ============================================================ -->
            <!-- PERMISSIONHOLDER -->
            <!-- ============================================================ -->
            <h2>PermissionHolder Interface</h2>
            <p>The <code>PermissionHolder</code> interface is the foundation of the permission system. Any object that needs to be authorization-checked implements this interface:</p>

            <pre><code><span class="kw">public interface</span> <span class="type">PermissionHolder</span> {
    <span class="type">boolean</span> <span class="fn">hasPermission</span>(<span class="type">@Nonnull String</span> <span class="field">permission</span>);

    <span class="type">boolean</span> <span class="fn">hasPermission</span>(<span class="type">@Nonnull String</span> <span class="field">permission</span>, <span class="type">boolean</span> <span class="field">defaultValue</span>);
}</code></pre>

            <p>The two-argument overload allows callers to specify a fallback value when the permission is neither explicitly granted nor denied.</p>

            <h3>Implementations</h3>
            <table class="doc-table">
                <thead>
                    <tr>
                        <th>Class</th>
                        <th>Behavior</th>
                        <th>Thread Context</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>Player</code></td>
                        <td>Delegates to <code>PermissionsModule.get().hasPermission(uuid, id)</code></td>
                        <td>World thread (ECS component)</td>
                    </tr>
                    <tr>
                        <td><code>CommandSender</code></td>
                        <td>Interface extending <code>PermissionHolder</code> + <code>IMessageReceiver</code></td>
                        <td>Any thread (commands run on ForkJoinPool)</td>
                    </tr>
                    <tr>
                        <td><code>ConsoleSender</code></td>
                        <td>Always returns <code>true</code> &mdash; console has all permissions</td>
                        <td>Any thread</td>
                    </tr>
                </tbody>
            </table>

            <div class="info-box warning">
                <strong>Warning:</strong> <code>PlayerRef</code> does <strong>not</strong> implement <code>PermissionHolder</code>. To check permissions from a <code>PlayerRef</code>, use <code>PermissionsModule.get().hasPermission(playerRef.getUuid(), permission)</code> or get the <code>Player</code> ECS component.
            </div>

            <h3>CommandSender Interface</h3>
            <p><code>CommandSender</code> extends both <code>IMessageReceiver</code> and <code>PermissionHolder</code>, making it the primary interface for permission-checked command execution:</p>

            <pre><code><span class="kw">public interface</span> <span class="type">CommandSender</span> <span class="kw">extends</span> <span class="type">IMessageReceiver</span>, <span class="type">PermissionHolder</span> {
    <span class="type">String</span> <span class="fn">getDisplayName</span>();
    <span class="type">UUID</span> <span class="fn">getUuid</span>();
}</code></pre>

            <p>Both <code>Player</code> and <code>ConsoleSender</code> implement this interface. The console sender is a singleton at <code>ConsoleSender.INSTANCE</code> with a fixed zero-UUID (<code>00000000-0000-0000-0000-000000000000</code>).</p>

            <!-- ============================================================ -->
            <!-- PERMISSION PROVIDER -->
            <!-- ============================================================ -->
            <h2>PermissionProvider Interface</h2>
            <p>The <code>PermissionProvider</code> interface is the pluggable backend abstraction for permission storage. Multiple providers can be registered simultaneously, and the <code>PermissionsModule</code> aggregates results from all of them.</p>

            <pre><code><span class="kw">public interface</span> <span class="type">PermissionProvider</span> {

    <span class="comment">// Provider identity</span>
    <span class="type">@Nonnull String</span> <span class="fn">getName</span>();

    <span class="comment">// User permission management</span>
    <span class="kw">void</span> <span class="fn">addUserPermissions</span>(<span class="type">@Nonnull UUID</span> <span class="field">uuid</span>, <span class="type">@Nonnull Set&lt;String&gt;</span> <span class="field">permissions</span>);
    <span class="kw">void</span> <span class="fn">removeUserPermissions</span>(<span class="type">@Nonnull UUID</span> <span class="field">uuid</span>, <span class="type">@Nonnull Set&lt;String&gt;</span> <span class="field">permissions</span>);
    <span class="type">Set&lt;String&gt;</span> <span class="fn">getUserPermissions</span>(<span class="type">@Nonnull UUID</span> <span class="field">uuid</span>);

    <span class="comment">// Group permission management</span>
    <span class="kw">void</span> <span class="fn">addGroupPermissions</span>(<span class="type">@Nonnull String</span> <span class="field">group</span>, <span class="type">@Nonnull Set&lt;String&gt;</span> <span class="field">permissions</span>);
    <span class="kw">void</span> <span class="fn">removeGroupPermissions</span>(<span class="type">@Nonnull String</span> <span class="field">group</span>, <span class="type">@Nonnull Set&lt;String&gt;</span> <span class="field">permissions</span>);
    <span class="type">Set&lt;String&gt;</span> <span class="fn">getGroupPermissions</span>(<span class="type">@Nonnull String</span> <span class="field">group</span>);

    <span class="comment">// User-Group membership</span>
    <span class="kw">void</span> <span class="fn">addUserToGroup</span>(<span class="type">@Nonnull UUID</span> <span class="field">uuid</span>, <span class="type">@Nonnull String</span> <span class="field">group</span>);
    <span class="kw">void</span> <span class="fn">removeUserFromGroup</span>(<span class="type">@Nonnull UUID</span> <span class="field">uuid</span>, <span class="type">@Nonnull String</span> <span class="field">group</span>);
    <span class="type">Set&lt;String&gt;</span> <span class="fn">getGroupsForUser</span>(<span class="type">@Nonnull UUID</span> <span class="field">uuid</span>);
}</code></pre>

            <h3>HytalePermissionsProvider (Default Implementation)</h3>
            <p>The default provider is <code>HytalePermissionsProvider</code>, which persists all data to a <code>permissions.json</code> file on disk. Key characteristics:</p>

            <ul>
                <li>Extends <code>BlockingDiskFile</code> for thread-safe file I/O with a <code>ReadWriteLock</code></li>
                <li>Uses <code>Object2ObjectOpenHashMap</code> (fastutil) for high-performance in-memory storage</li>
                <li>Automatically creates default groups on load: <code>"OP"</code> (with <code>"*"</code>) and <code>"Default"</code> (empty)</li>
                <li>Synchronously saves to disk on every mutation (<code>syncSave()</code>)</li>
                <li>Users with no explicit group membership default to the <code>"Default"</code> group</li>
            </ul>

            <h4>File Format: permissions.json</h4>
            <pre><code>{
  <span class="str">"users"</span>: {
    <span class="str">"550e8400-e29b-41d4-a716-446655440000"</span>: {
      <span class="str">"permissions"</span>: [<span class="str">"myplugin.admin"</span>, <span class="str">"myplugin.teleport"</span>],
      <span class="str">"groups"</span>: [<span class="str">"OP"</span>, <span class="str">"Moderator"</span>]
    }
  },
  <span class="str">"groups"</span>: {
    <span class="str">"OP"</span>: [<span class="str">"*"</span>],
    <span class="str">"Default"</span>: [],
    <span class="str">"Moderator"</span>: [<span class="str">"myplugin.kick"</span>, <span class="str">"myplugin.mute"</span>]
  }
}</code></pre>

            <div class="info-box tip">
                <strong>Tip:</strong> You can register a custom <code>PermissionProvider</code> to replace or supplement the default file-based backend &mdash; for example, to store permissions in a database for multi-server deployments.
            </div>

            <!-- ============================================================ -->
            <!-- PERMISSIONS MODULE -->
            <!-- ============================================================ -->
            <h2>PermissionsModule</h2>
            <p>The <code>PermissionsModule</code> is a core server module (registered as a <code>CORE_PLUGIN</code> in <code>Constants</code>) that serves as the central coordinator for the permission system. It is accessed via the static singleton <code>PermissionsModule.get()</code>.</p>

            <p>When <code>Player.hasPermission(permission)</code> is called, it delegates directly to:</p>
            <pre><code><span class="comment">// Player.java, line 580</span>
<span class="kw">public</span> <span class="type">boolean</span> <span class="fn">hasPermission</span>(<span class="type">@Nonnull String</span> <span class="field">id</span>) {
    <span class="kw">return</span> <span class="type">PermissionsModule</span>.<span class="fn">get</span>().<span class="fn">hasPermission</span>(<span class="fn">getUuid</span>(), id);
}</code></pre>

            <p>The module manages:</p>
            <ul>
                <li><strong>Provider registry</strong> &mdash; Multiple <code>PermissionProvider</code> instances can be registered</li>
                <li><strong>Permission resolution</strong> &mdash; Aggregates user permissions, group memberships, and group permissions across all providers</li>
                <li><strong>Wildcard matching</strong> &mdash; The <code>"*"</code> permission grants access to everything</li>
                <li><strong>Event dispatch</strong> &mdash; Fires permission change events when permissions or groups are modified</li>
                <li><strong>Tamper detection</strong> &mdash; <code>areProvidersTampered()</code> checks whether non-default providers have been registered (used by <code>/opself</code> for safety)</li>
            </ul>

            <h3>Key API Methods</h3>
            <table class="doc-table">
                <thead>
                    <tr>
                        <th>Method</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>hasPermission(UUID, String)</code></td>
                        <td>Check if a user has a specific permission (direct or via groups)</td>
                    </tr>
                    <tr>
                        <td><code>hasPermission(UUID, String, boolean)</code></td>
                        <td>Check with a default fallback value</td>
                    </tr>
                    <tr>
                        <td><code>addUserPermission(UUID, Set&lt;String&gt;)</code></td>
                        <td>Grant permissions directly to a user</td>
                    </tr>
                    <tr>
                        <td><code>removeUserPermission(UUID, Set&lt;String&gt;)</code></td>
                        <td>Revoke direct permissions from a user</td>
                    </tr>
                    <tr>
                        <td><code>addGroupPermission(String, Set&lt;String&gt;)</code></td>
                        <td>Add permissions to a group</td>
                    </tr>
                    <tr>
                        <td><code>removeGroupPermission(String, Set&lt;String&gt;)</code></td>
                        <td>Remove permissions from a group</td>
                    </tr>
                    <tr>
                        <td><code>addUserToGroup(UUID, String)</code></td>
                        <td>Add a user to a permission group</td>
                    </tr>
                    <tr>
                        <td><code>removeUserFromGroup(UUID, String)</code></td>
                        <td>Remove a user from a permission group</td>
                    </tr>
                    <tr>
                        <td><code>getGroupsForUser(UUID)</code></td>
                        <td>Get all groups a user belongs to</td>
                    </tr>
                    <tr>
                        <td><code>getProviders()</code></td>
                        <td>Get all registered permission providers</td>
                    </tr>
                    <tr>
                        <td><code>areProvidersTampered()</code></td>
                        <td>Check if non-default providers are registered</td>
                    </tr>
                </tbody>
            </table>

            <!-- ============================================================ -->
            <!-- PERMISSION NODE CONVENTION -->
            <!-- ============================================================ -->
            <h2>Permission Node Convention</h2>
            <p>Permission nodes follow a dot-separated hierarchical convention. The <code>HytalePermissions</code> utility class defines the namespace and helper methods for constructing standard permission strings.</p>

            <h3>Node Structure</h3>
            <pre><code><span class="comment">// General pattern</span>
<span class="str">"namespace.category.action"</span>

<span class="comment">// System commands (built-in)</span>
<span class="str">"hytale.command.&lt;name&gt;"</span>              <span class="comment">// e.g. "hytale.command.op.add"</span>

<span class="comment">// Plugin commands</span>
<span class="str">"&lt;plugin-namespace&gt;.command.&lt;name&gt;"</span>  <span class="comment">// e.g. "myplugin.command.teleport"</span>

<span class="comment">// Feature gates</span>
<span class="str">"hytale.editor.asset"</span>                <span class="comment">// Asset editor access</span>
<span class="str">"hytale.camera.flycam"</span>               <span class="comment">// Fly camera mode</span>

<span class="comment">// Subcommands (dot-separated from parent)</span>
<span class="str">"hytale.command.perm.user.add"</span>       <span class="comment">// /perm user add</span>

<span class="comment">// Wildcard (grants all permissions)</span>
<span class="str">"*"</span></code></pre>

            <h3>HytalePermissions Utility</h3>
            <p>The <code>HytalePermissions</code> class provides constants and factory methods for constructing built-in permission nodes:</p>

            <pre><code><span class="kw">public class</span> <span class="type">HytalePermissions</span> {
    <span class="kw">public static final</span> <span class="type">String</span> <span class="field">NAMESPACE</span> = <span class="str">"hytale"</span>;
    <span class="kw">public static final</span> <span class="type">String</span> <span class="field">COMMAND_BASE</span> = <span class="str">"hytale.command"</span>;

    <span class="comment">// Build a command permission: "hytale.command.&lt;name&gt;"</span>
    <span class="kw">public static</span> <span class="type">String</span> <span class="fn">fromCommand</span>(<span class="type">@Nonnull String</span> <span class="field">name</span>) {
        <span class="kw">return</span> <span class="str">"hytale.command."</span> + name;
    }

    <span class="comment">// Build a subcommand permission: "hytale.command.&lt;name&gt;.&lt;subCommand&gt;"</span>
    <span class="kw">public static</span> <span class="type">String</span> <span class="fn">fromCommand</span>(<span class="type">@Nonnull String</span> <span class="field">name</span>, <span class="type">@Nonnull String</span> <span class="field">subCommand</span>) {
        <span class="kw">return</span> <span class="str">"hytale.command."</span> + name + <span class="str">"."</span> + subCommand;
    }
}</code></pre>

            <!-- ============================================================ -->
            <!-- BUILT-IN PERMISSION NODES -->
            <!-- ============================================================ -->
            <h2>Built-in Permission Nodes</h2>
            <p>The following permission nodes are defined as constants in <code>HytalePermissions</code> and are checked throughout the server codebase:</p>

            <h3>Command Permissions</h3>
            <table class="doc-table">
                <thead>
                    <tr>
                        <th>Permission Node</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>hytale.command.*</code></td>
                        <td>Base namespace for all built-in command permissions</td>
                    </tr>
                    <tr>
                        <td><code>hytale.command.op.add</code></td>
                        <td>Grant operator status to a player</td>
                    </tr>
                    <tr>
                        <td><code>hytale.command.op.remove</code></td>
                        <td>Revoke operator status from a player</td>
                    </tr>
                    <tr>
                        <td><code>hytale.command.perm.*</code></td>
                        <td>All permission management commands</td>
                    </tr>
                </tbody>
            </table>

            <h3>Editor Permissions</h3>
            <table class="doc-table">
                <thead>
                    <tr>
                        <th>Permission Node</th>
                        <th>Constant</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>hytale.editor.asset</code></td>
                        <td><code>ASSET_EDITOR</code></td>
                        <td>Access to the asset editor</td>
                    </tr>
                    <tr>
                        <td><code>hytale.editor.packs.create</code></td>
                        <td><code>ASSET_EDITOR_PACKS_CREATE</code></td>
                        <td>Create new asset packs</td>
                    </tr>
                    <tr>
                        <td><code>hytale.editor.packs.edit</code></td>
                        <td><code>ASSET_EDITOR_PACKS_EDIT</code></td>
                        <td>Edit existing asset packs</td>
                    </tr>
                    <tr>
                        <td><code>hytale.editor.packs.delete</code></td>
                        <td><code>ASSET_EDITOR_PACKS_DELETE</code></td>
                        <td>Delete asset packs</td>
                    </tr>
                    <tr>
                        <td><code>hytale.editor.builderTools</code></td>
                        <td><code>BUILDER_TOOLS_EDITOR</code></td>
                        <td>Access to builder tools</td>
                    </tr>
                    <tr>
                        <td><code>hytale.editor.brush.use</code></td>
                        <td><code>EDITOR_BRUSH_USE</code></td>
                        <td>Use brush tools in the editor</td>
                    </tr>
                    <tr>
                        <td><code>hytale.editor.brush.config</code></td>
                        <td><code>EDITOR_BRUSH_CONFIG</code></td>
                        <td>Configure brush tool settings</td>
                    </tr>
                    <tr>
                        <td><code>hytale.editor.prefab.use</code></td>
                        <td><code>EDITOR_PREFAB_USE</code></td>
                        <td>Use prefab placement tools</td>
                    </tr>
                    <tr>
                        <td><code>hytale.editor.prefab.manage</code></td>
                        <td><code>EDITOR_PREFAB_MANAGE</code></td>
                        <td>Create and manage prefab definitions</td>
                    </tr>
                    <tr>
                        <td><code>hytale.editor.selection.use</code></td>
                        <td><code>EDITOR_SELECTION_USE</code></td>
                        <td>Use selection tools</td>
                    </tr>
                    <tr>
                        <td><code>hytale.editor.selection.clipboard</code></td>
                        <td><code>EDITOR_SELECTION_CLIPBOARD</code></td>
                        <td>Copy/paste operations</td>
                    </tr>
                    <tr>
                        <td><code>hytale.editor.selection.modify</code></td>
                        <td><code>EDITOR_SELECTION_MODIFY</code></td>
                        <td>Modify selections (fill, replace, etc.)</td>
                    </tr>
                    <tr>
                        <td><code>hytale.editor.history</code></td>
                        <td><code>EDITOR_HISTORY</code></td>
                        <td>Undo/redo operations</td>
                    </tr>
                </tbody>
            </table>

            <h3>Gameplay Permissions</h3>
            <table class="doc-table">
                <thead>
                    <tr>
                        <th>Permission Node</th>
                        <th>Constant</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>hytale.camera.flycam</code></td>
                        <td><code>FLY_CAM</code></td>
                        <td>Enable fly camera mode</td>
                    </tr>
                    <tr>
                        <td><code>hytale.world_map.teleport.coordinate</code></td>
                        <td><code>WORLD_MAP_COORDINATE_TELEPORT</code></td>
                        <td>Teleport to coordinates via world map</td>
                    </tr>
                    <tr>
                        <td><code>hytale.world_map.teleport.marker</code></td>
                        <td><code>WORLD_MAP_MARKER_TELEPORT</code></td>
                        <td>Teleport to map markers via world map</td>
                    </tr>
                    <tr>
                        <td><code>hytale.system.update.notify</code></td>
                        <td><code>UPDATE_NOTIFY</code></td>
                        <td>Receive server update notifications</td>
                    </tr>
                </tbody>
            </table>

            <!-- ============================================================ -->
            <!-- DEFAULT GROUPS -->
            <!-- ============================================================ -->
            <h2>Default Groups</h2>
            <p>The <code>HytalePermissionsProvider</code> creates two built-in groups that are always present and cannot be removed:</p>

            <table class="doc-table">
                <thead>
                    <tr>
                        <th>Group</th>
                        <th>Permissions</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>"Default"</code></td>
                        <td><em>(none)</em></td>
                        <td>All players belong to this group implicitly. When <code>getGroupsForUser()</code> finds no explicit group assignments, it returns <code>Set.of("Default")</code>.</td>
                    </tr>
                    <tr>
                        <td><code>"OP"</code></td>
                        <td><code>"*"</code> (wildcard)</td>
                        <td>Operator group. The wildcard permission grants access to everything. Players are added via <code>/op add</code> or programmatically.</td>
                    </tr>
                </tbody>
            </table>

            <div class="info-box note">
                <strong>Note:</strong> These groups are re-injected every time <code>permissions.json</code> is loaded, overriding any manual edits to the OP and Default group definitions. Custom permissions added to these groups via the API are preserved separately.
            </div>

            <!-- ============================================================ -->
            <!-- PERMISSION COMMANDS -->
            <!-- ============================================================ -->
            <h2>Permission Commands</h2>
            <p>The permission system registers a comprehensive set of commands under the <code>/perm</code> and <code>/op</code> namespaces.</p>

            <h3>/perm user &mdash; User Permission Management</h3>
            <table class="doc-table">
                <thead>
                    <tr>
                        <th>Command</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>/perm user list &lt;uuid&gt;</code></td>
                        <td>List all direct permissions for a user (from all providers)</td>
                    </tr>
                    <tr>
                        <td><code>/perm user add &lt;uuid&gt; &lt;permissions...&gt;</code></td>
                        <td>Add one or more permissions to a user</td>
                    </tr>
                    <tr>
                        <td><code>/perm user remove &lt;uuid&gt; &lt;permissions...&gt;</code></td>
                        <td>Remove one or more permissions from a user</td>
                    </tr>
                </tbody>
            </table>

            <h3>/perm user group &mdash; User Group Membership</h3>
            <table class="doc-table">
                <thead>
                    <tr>
                        <th>Command</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>/perm user group list &lt;uuid&gt;</code></td>
                        <td>List all groups a user belongs to (from all providers)</td>
                    </tr>
                    <tr>
                        <td><code>/perm user group add &lt;uuid&gt; &lt;group&gt;</code></td>
                        <td>Add a user to a group</td>
                    </tr>
                    <tr>
                        <td><code>/perm user group remove &lt;uuid&gt; &lt;group&gt;</code></td>
                        <td>Remove a user from a group</td>
                    </tr>
                </tbody>
            </table>

            <h3>/perm group &mdash; Group Permission Management</h3>
            <table class="doc-table">
                <thead>
                    <tr>
                        <th>Command</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>/perm group list &lt;group&gt;</code></td>
                        <td>List all permissions in a group (from all providers)</td>
                    </tr>
                    <tr>
                        <td><code>/perm group add &lt;group&gt; &lt;permissions...&gt;</code></td>
                        <td>Add permissions to a group</td>
                    </tr>
                    <tr>
                        <td><code>/perm group remove &lt;group&gt; &lt;permissions...&gt;</code></td>
                        <td>Remove permissions from a group</td>
                    </tr>
                </tbody>
            </table>

            <h3>/perm test &mdash; Permission Testing</h3>
            <table class="doc-table">
                <thead>
                    <tr>
                        <th>Command</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>/perm test &lt;nodes...&gt;</code></td>
                        <td>Test whether the command sender has one or more permission nodes. Outputs the result of <code>hasPermission()</code> for each node.</td>
                    </tr>
                </tbody>
            </table>

            <h3>/op &mdash; Operator Management</h3>
            <table class="doc-table">
                <thead>
                    <tr>
                        <th>Command</th>
                        <th>Permission</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>/op add &lt;player&gt;</code></td>
                        <td><code>hytale.command.op.add</code></td>
                        <td>Grant OP status. Adds the player to the <code>"OP"</code> group. Notifies the target player.</td>
                    </tr>
                    <tr>
                        <td><code>/op remove &lt;player&gt;</code></td>
                        <td><code>hytale.command.op.remove</code></td>
                        <td>Revoke OP status. Removes the player from the <code>"OP"</code> group. Notifies the target player.</td>
                    </tr>
                    <tr>
                        <td><code>/op self</code></td>
                        <td><em>(no permission required)</em></td>
                        <td>Toggle your own OP status. Only works in singleplayer, or when the server is launched with <code>--allow-op</code>. Blocked if custom providers are registered.</td>
                    </tr>
                </tbody>
            </table>

            <div class="info-box warning">
                <strong>Warning:</strong> The <code>/op self</code> command has multiple safety gates. It will refuse to execute if: (1) custom permission providers are registered (<code>areProvidersTampered()</code>), (2) in singleplayer without being the world owner, or (3) in multiplayer without the <code>--allow-op</code> launch argument.
            </div>

            <!-- ============================================================ -->
            <!-- PERMISSION CHECKING FLOW -->
            <!-- ============================================================ -->
            <h2>Permission Checking Flow</h2>
            <p>When a permission check is performed, it flows through several layers:</p>

<div class="diagram">
Player.hasPermission("myplugin.admin")
    |
    v
PermissionsModule.get().hasPermission(uuid, "myplugin.admin")
    |
    v
For each registered PermissionProvider:
    |
    +-- 1. Check user direct permissions
    |       getUserPermissions(uuid) contains "myplugin.admin"?
    |       getUserPermissions(uuid) contains "*" (wildcard)?
    |
    +-- 2. Check user group permissions
    |       For each group in getGroupsForUser(uuid):
    |           getGroupPermissions(group) contains "myplugin.admin"?
    |           getGroupPermissions(group) contains "*" (wildcard)?
    |
    v
Return true if ANY provider grants the permission, false otherwise
</div>

            <p>The resolution order matters: direct user permissions are checked first, then permissions inherited through group membership. The wildcard <code>"*"</code> matches any permission string.</p>

            <h3>Command Permission Flow</h3>
            <p>For commands, there is an additional layer. <code>AbstractCommand.hasPermission()</code> checks the command's own permission node AND recursively verifies that the sender has permission for all parent commands:</p>

            <pre><code><span class="comment">// AbstractCommand.java</span>
<span class="kw">public</span> <span class="type">boolean</span> <span class="fn">hasPermission</span>(<span class="type">@Nonnull CommandSender</span> <span class="field">sender</span>) {
    <span class="type">String</span> permission = <span class="fn">getPermission</span>();
    <span class="kw">if</span> (permission == <span class="kw">null</span>) <span class="kw">return true</span>;

    <span class="kw">if</span> (sender.<span class="fn">hasPermission</span>(permission)) {
        <span class="kw">if</span> (<span class="kw">this</span>.<span class="field">parentCommand</span> == <span class="kw">null</span>) <span class="kw">return true</span>;
        <span class="kw">return this</span>.<span class="field">parentCommand</span>.<span class="fn">hasPermission</span>(sender);
    }

    <span class="kw">return false</span>;
}</code></pre>

            <div class="info-box note">
                <strong>Note:</strong> If a command has no explicitly set permission and <code>canGeneratePermission()</code> returns <code>true</code> (the default), the permission is auto-generated from the command's name hierarchy. For example, a command <code>"add"</code> that is a subcommand of <code>"user"</code> under the <code>"perm"</code> root would get the auto-generated permission <code>"hytale.command.perm.user.add"</code>.
            </div>

            <!-- ============================================================ -->
            <!-- PERMISSION EVENTS -->
            <!-- ============================================================ -->
            <h2>Permission Events</h2>
            <p>The permission system fires events when permissions or group memberships change. All events implement <code>IEvent&lt;Void&gt;</code> and should be registered with the global event bus via <code>registerGlobal</code>.</p>

            <h3>PlayerPermissionChangeEvent Hierarchy</h3>
            <table class="doc-table">
                <thead>
                    <tr>
                        <th>Event Class</th>
                        <th>Fired When</th>
                        <th>Key Accessors</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>PlayerPermissionChangeEvent.PermissionsAdded</code></td>
                        <td>Permissions directly added to a player</td>
                        <td><code>getPlayerUuid()</code>, <code>getAddedPermissions()</code></td>
                    </tr>
                    <tr>
                        <td><code>PlayerPermissionChangeEvent.PermissionsRemoved</code></td>
                        <td>Permissions directly removed from a player</td>
                        <td><code>getPlayerUuid()</code>, <code>getRemovedPermissions()</code></td>
                    </tr>
                    <tr>
                        <td><code>PlayerPermissionChangeEvent.GroupAdded</code></td>
                        <td>Player added to a group</td>
                        <td><code>getPlayerUuid()</code>, <code>getGroupName()</code></td>
                    </tr>
                    <tr>
                        <td><code>PlayerPermissionChangeEvent.GroupRemoved</code></td>
                        <td>Player removed from a group</td>
                        <td><code>getPlayerUuid()</code>, <code>getGroupName()</code></td>
                    </tr>
                </tbody>
            </table>

            <h3>PlayerGroupEvent Hierarchy</h3>
            <table class="doc-table">
                <thead>
                    <tr>
                        <th>Event Class</th>
                        <th>Fired When</th>
                        <th>Key Accessors</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>PlayerGroupEvent.Added</code></td>
                        <td>Player added to a group (extends <code>PlayerPermissionChangeEvent</code>)</td>
                        <td><code>getPlayerUuid()</code>, <code>getGroupName()</code></td>
                    </tr>
                    <tr>
                        <td><code>PlayerGroupEvent.Removed</code></td>
                        <td>Player removed from a group (extends <code>PlayerPermissionChangeEvent</code>)</td>
                        <td><code>getPlayerUuid()</code>, <code>getGroupName()</code></td>
                    </tr>
                </tbody>
            </table>

            <h3>GroupPermissionChangeEvent Hierarchy</h3>
            <table class="doc-table">
                <thead>
                    <tr>
                        <th>Event Class</th>
                        <th>Fired When</th>
                        <th>Key Accessors</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>GroupPermissionChangeEvent.Added</code></td>
                        <td>Permissions added to a group definition</td>
                        <td><code>getGroupName()</code>, <code>getAddedPermissions()</code></td>
                    </tr>
                    <tr>
                        <td><code>GroupPermissionChangeEvent.Removed</code></td>
                        <td>Permissions removed from a group definition</td>
                        <td><code>getGroupName()</code>, <code>getRemovedPermissions()</code></td>
                    </tr>
                </tbody>
            </table>

            <!-- ============================================================ -->
            <!-- INTEGRATION WITH COMMANDS -->
            <!-- ============================================================ -->
            <h2>Integration with Commands</h2>
            <p>The permission system is tightly integrated with the command framework via <code>AbstractCommand</code>.</p>

            <h3>Automatic Permission Generation</h3>
            <p>By default, when a command is registered, <code>AbstractCommand</code> auto-generates a permission node from the command name hierarchy. This happens in <code>setOwner()</code>:</p>

            <pre><code><span class="comment">// AbstractCommand.java</span>
<span class="kw">public</span> <span class="kw">void</span> <span class="fn">setOwner</span>(<span class="type">@Nonnull CommandOwner</span> <span class="field">owner</span>) {
    <span class="kw">this</span>.<span class="field">owner</span> = owner;

    <span class="comment">// Auto-generate permission if none was explicitly set</span>
    <span class="kw">if</span> (<span class="kw">this</span>.<span class="field">permission</span> == <span class="kw">null</span> && <span class="fn">canGeneratePermission</span>()) {
        <span class="kw">this</span>.<span class="field">permission</span> = <span class="fn">generatePermission</span>();
    }

    <span class="comment">// Propagate to subcommands</span>
    <span class="kw">for</span> (<span class="type">AbstractCommand</span> subCommand : <span class="kw">this</span>.<span class="field">subCommands</span>.<span class="fn">values</span>()) {
        subCommand.<span class="fn">setOwner</span>(owner);
    }
}</code></pre>

            <p>The generated permission node is built by traversing the command hierarchy:</p>
            <ul>
                <li>Root command named <code>"perm"</code> &rarr; <code>hytale.command.perm</code></li>
                <li>Subcommand <code>"user"</code> under <code>"perm"</code> &rarr; <code>hytale.command.perm.user</code></li>
                <li>Subcommand <code>"add"</code> under <code>"user"</code> &rarr; <code>hytale.command.perm.user.add</code></li>
            </ul>

            <h3>Explicit Permission Override</h3>
            <p>Commands can override the auto-generated permission using <code>requirePermission()</code>:</p>

            <pre><code><span class="kw">public</span> <span class="fn">OpAddCommand</span>() {
    <span class="kw">super</span>(<span class="str">"add"</span>, <span class="str">"server.commands.op.add.desc"</span>);
    <span class="fn">requirePermission</span>(<span class="type">HytalePermissions</span>.<span class="fn">fromCommand</span>(<span class="str">"op.add"</span>));
}</code></pre>

            <h3>Disabling Permission Generation</h3>
            <p>Commands can opt out of automatic permission generation by overriding <code>canGeneratePermission()</code>:</p>

            <pre><code><span class="comment">// OpSelfCommand.java - no permission check needed</span>
<span class="kw">@Override</span>
<span class="kw">protected</span> <span class="type">boolean</span> <span class="fn">canGeneratePermission</span>() {
    <span class="kw">return false</span>;
}</code></pre>

            <h3>Permission Denied Behavior</h3>
            <p>When a command is executed without the required permission, the framework sends the translation message <code>server.commands.parsing.error.noPermissionForCommand</code> to the sender. The command's <code>executeSync()</code> method is never called.</p>

            <!-- ============================================================ -->
            <!-- CODE EXAMPLES -->
            <!-- ============================================================ -->
            <h2>Code Examples</h2>

            <h3>Checking Permissions in a Command</h3>
            <pre><code><span class="kw">public class</span> <span class="type">AdminCommand</span> <span class="kw">extends</span> <span class="type">CommandBase</span> {

    <span class="kw">public</span> <span class="fn">AdminCommand</span>() {
        <span class="kw">super</span>(<span class="str">"admin"</span>, <span class="str">"Admin-only command"</span>);
        <span class="fn">requirePermission</span>(<span class="str">"myplugin.admin"</span>);
    }

    <span class="kw">@Override</span>
    <span class="kw">protected</span> <span class="kw">void</span> <span class="fn">executeSync</span>(<span class="type">@Nonnull CommandContext</span> <span class="field">context</span>) {
        <span class="comment">// This method is only called if the sender has "myplugin.admin"</span>

        <span class="comment">// Fine-grained check within the command</span>
        <span class="kw">if</span> (context.<span class="fn">sender</span>().<span class="fn">hasPermission</span>(<span class="str">"myplugin.admin.dangerous"</span>)) {
            <span class="comment">// Elevated action</span>
            context.<span class="fn">sendMessage</span>(<span class="type">Message</span>.<span class="fn">raw</span>(<span class="str">"Executing dangerous operation..."</span>));
        } <span class="kw">else</span> {
            context.<span class="fn">sendMessage</span>(<span class="type">Message</span>.<span class="fn">raw</span>(<span class="str">"Executing standard operation..."</span>));
        }
    }
}</code></pre>

            <h3>Managing Permissions Programmatically</h3>
            <pre><code><span class="comment">// Get the permissions module singleton</span>
<span class="type">PermissionsModule</span> perms = <span class="type">PermissionsModule</span>.<span class="fn">get</span>();

<span class="comment">// Grant individual permissions to a player</span>
perms.<span class="fn">addUserPermission</span>(playerUuid, <span class="type">Set</span>.<span class="fn">of</span>(
    <span class="str">"myplugin.teleport"</span>,
    <span class="str">"myplugin.home"</span>
));

<span class="comment">// Remove permissions from a player</span>
perms.<span class="fn">removeUserPermission</span>(playerUuid, <span class="type">Set</span>.<span class="fn">of</span>(<span class="str">"myplugin.teleport"</span>));

<span class="comment">// Check if a player has a permission (thread-safe, any thread)</span>
<span class="kw">if</span> (perms.<span class="fn">hasPermission</span>(playerUuid, <span class="str">"myplugin.admin"</span>)) {
    <span class="comment">// authorized</span>
}</code></pre>

            <h3>Creating and Managing Permission Groups</h3>
            <pre><code><span class="type">PermissionsModule</span> perms = <span class="type">PermissionsModule</span>.<span class="fn">get</span>();

<span class="comment">// Create a "Moderator" group by adding permissions to it</span>
<span class="comment">// (groups are created implicitly when permissions are added)</span>
perms.<span class="fn">addGroupPermission</span>(<span class="str">"Moderator"</span>, <span class="type">Set</span>.<span class="fn">of</span>(
    <span class="str">"myplugin.kick"</span>,
    <span class="str">"myplugin.mute"</span>,
    <span class="str">"myplugin.warn"</span>,
    <span class="str">"myplugin.teleport"</span>
));

<span class="comment">// Add a player to the Moderator group</span>
perms.<span class="fn">addUserToGroup</span>(playerUuid, <span class="str">"Moderator"</span>);

<span class="comment">// Check what groups a player belongs to</span>
<span class="type">Set&lt;String&gt;</span> groups = perms.<span class="fn">getGroupsForUser</span>(playerUuid);
<span class="comment">// Returns e.g. Set.of("Default", "Moderator")</span>

<span class="comment">// Check if a player is an operator</span>
<span class="type">boolean</span> isOp = groups.<span class="fn">contains</span>(<span class="str">"OP"</span>);

<span class="comment">// Remove a player from a group</span>
perms.<span class="fn">removeUserFromGroup</span>(playerUuid, <span class="str">"Moderator"</span>);</code></pre>

            <h3>Using Permissions in Event Handlers</h3>
            <pre><code><span class="comment">// Listen for permission changes to update player state</span>
eventBus.<span class="fn">registerGlobal</span>(<span class="type">PlayerGroupEvent</span>.<span class="type">Added</span>.<span class="kw">class</span>, event -> {
    <span class="type">UUID</span> uuid = event.<span class="fn">getPlayerUuid</span>();
    <span class="type">String</span> group = event.<span class="fn">getGroupName</span>();

    <span class="kw">if</span> (group.<span class="fn">equals</span>(<span class="str">"VIP"</span>)) {
        <span class="type">PlayerRef</span> player = <span class="type">Universe</span>.<span class="fn">get</span>().<span class="fn">getPlayer</span>(uuid);
        <span class="kw">if</span> (player != <span class="kw">null</span>) {
            player.<span class="fn">sendMessage</span>(<span class="type">Message</span>.<span class="fn">raw</span>(<span class="str">"Welcome to VIP!"</span>)
                .<span class="fn">color</span>(<span class="str">"#FFD700"</span>).<span class="fn">bold</span>(<span class="kw">true</span>));
        }
    }
});

<span class="comment">// Listen for group permission changes</span>
eventBus.<span class="fn">registerGlobal</span>(<span class="type">GroupPermissionChangeEvent</span>.<span class="type">Added</span>.<span class="kw">class</span>, event -> {
    <span class="type">String</span> group = event.<span class="fn">getGroupName</span>();
    <span class="type">Set&lt;String&gt;</span> added = event.<span class="fn">getAddedPermissions</span>();
    <span class="type">LOGGER</span>.<span class="fn">info</span>(<span class="str">"Permissions added to group "</span> + group + <span class="str">": "</span> + added);
});</code></pre>

            <h3>Checking Permissions from Any Thread</h3>
            <pre><code><span class="comment">// PermissionsModule.get() is thread-safe and works from any thread</span>

<span class="comment">// From a scheduled task</span>
<span class="type">HytaleServer</span>.<span class="field">SCHEDULED_EXECUTOR</span>.<span class="fn">schedule</span>(() -> {
    <span class="kw">if</span> (<span class="type">PermissionsModule</span>.<span class="fn">get</span>().<span class="fn">hasPermission</span>(uuid, <span class="str">"myplugin.notify"</span>)) {
        <span class="type">PlayerRef</span> player = <span class="type">Universe</span>.<span class="fn">get</span>().<span class="fn">getPlayer</span>(uuid);
        <span class="kw">if</span> (player != <span class="kw">null</span>) {
            player.<span class="fn">sendMessage</span>(<span class="type">Message</span>.<span class="fn">raw</span>(<span class="str">"Scheduled notification"</span>));
        }
    }
}, <span class="num">30</span>, <span class="type">TimeUnit</span>.<span class="field">SECONDS</span>);

<span class="comment">// From the world thread (via Player component)</span>
world.<span class="fn">execute</span>(() -> {
    <span class="type">Player</span> player = store.<span class="fn">getComponent</span>(ref, <span class="type">Player</span>.<span class="fn">getComponentType</span>());
    <span class="kw">if</span> (player != <span class="kw">null</span> && player.<span class="fn">hasPermission</span>(<span class="str">"myplugin.special"</span>)) {
        <span class="comment">// World-thread operation</span>
    }
});</code></pre>

            <!-- ============================================================ -->
            <!-- GAMEMODE INTEGRATION -->
            <!-- ============================================================ -->
            <h2>GameMode Integration</h2>
            <p>The permission system is integrated with game mode switching. When a player's game mode changes, the server automatically adds and removes the player from game-mode-specific permission groups. This is handled internally in <code>Player.setGameModeInternal()</code>:</p>

            <pre><code><span class="comment">// When game mode changes, permission groups are updated</span>
<span class="type">PermissionsModule</span> permissionsModule = <span class="type">PermissionsModule</span>.<span class="fn">get</span>();

<span class="comment">// Remove old game mode permission groups</span>
<span class="kw">if</span> (oldGameMode != <span class="kw">null</span>) {
    <span class="type">GameModeType</span> oldType = <span class="type">GameModeType</span>.<span class="fn">fromGameMode</span>(oldGameMode);
    <span class="kw">for</span> (<span class="type">String</span> group : oldType.<span class="fn">getPermissionGroups</span>()) {
        permissionsModule.<span class="fn">removeUserFromGroup</span>(uuid, group);
    }
}

<span class="comment">// Add new game mode permission groups</span>
<span class="type">GameModeType</span> newType = <span class="type">GameModeType</span>.<span class="fn">fromGameMode</span>(gameMode);
<span class="kw">for</span> (<span class="type">String</span> group : newType.<span class="fn">getPermissionGroups</span>()) {
    permissionsModule.<span class="fn">addUserToGroup</span>(uuid, group);
}</code></pre>

            <p>This means each <code>GameModeType</code> asset can define associated permission groups, granting players different capabilities (e.g. fly camera, builder tools) depending on their current game mode.</p>

            <!-- ============================================================ -->
            <!-- THREAD SAFETY -->
            <!-- ============================================================ -->
            <h2>Thread Safety</h2>
            <p>The permission system is designed to be safely used across the server's multi-threaded architecture:</p>

            <table class="doc-table">
                <thead>
                    <tr>
                        <th>API</th>
                        <th>Thread Safety</th>
                        <th>Notes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>PermissionsModule.get().*</code></td>
                        <td>Thread-safe (any thread)</td>
                        <td>All methods on the module singleton are safe from any thread</td>
                    </tr>
                    <tr>
                        <td><code>Player.hasPermission()</code></td>
                        <td>World thread only</td>
                        <td><code>Player</code> is an ECS component &mdash; access requires the owning world's thread</td>
                    </tr>
                    <tr>
                        <td><code>CommandSender.hasPermission()</code></td>
                        <td>Any thread</td>
                        <td>Commands run on ForkJoinPool; <code>CommandSender</code> delegates to <code>PermissionsModule</code></td>
                    </tr>
                    <tr>
                        <td><code>ConsoleSender.hasPermission()</code></td>
                        <td>Any thread</td>
                        <td>Always returns <code>true</code>; no external state</td>
                    </tr>
                    <tr>
                        <td><code>HytalePermissionsProvider</code></td>
                        <td>Thread-safe (ReadWriteLock)</td>
                        <td>Uses a <code>ReadWriteLock</code> internally for all reads and writes</td>
                    </tr>
                </tbody>
            </table>

            <div class="info-box tip">
                <strong>Tip:</strong> When in doubt, use <code>PermissionsModule.get().hasPermission(uuid, permission)</code> directly. It works from any thread and does not require access to ECS components.
            </div>

            <!-- ============================================================ -->
            <!-- STORAGE AND PERSISTENCE -->
            <!-- ============================================================ -->
            <h2>Storage and Persistence</h2>
            <p>The default <code>HytalePermissionsProvider</code> persists all permission data to <code>permissions.json</code> in the server's working directory. Key persistence behaviors:</p>

            <ul>
                <li><strong>Immediate writes</strong> &mdash; Every mutation (<code>add*</code>, <code>remove*</code>) triggers a synchronous save via <code>syncSave()</code></li>
                <li><strong>Atomic file operations</strong> &mdash; Inherited from <code>BlockingDiskFile</code>, ensuring consistency even on crashes</li>
                <li><strong>Group defaults</strong> &mdash; The <code>"OP"</code> and <code>"Default"</code> groups are always injected after loading, regardless of file contents</li>
                <li><strong>Empty cleanup</strong> &mdash; When all permissions are removed from a user or a user is removed from all groups, the empty entry is cleaned up from the in-memory maps</li>
                <li><strong>Fresh start</strong> &mdash; If <code>permissions.json</code> doesn't exist, it is created as an empty JSON object <code>{}</code></li>
            </ul>

            <div class="info-box danger">
                <strong>Danger:</strong> Manually editing <code>permissions.json</code> while the server is running is unsafe. The server holds an in-memory copy and will overwrite your changes on the next mutation. Stop the server before making manual edits.
            </div>

        </div>
    </main>

    <div class="search-overlay">
        <div class="search-modal">
            <div class="search-input-wrap">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                <input type="text" class="search-input" placeholder="Search documentation..." autofocus>
            </div>
            <div class="search-results"></div>
            <div class="search-footer">
                <span><kbd>&#8593;&#8595;</kbd> Navigate</span>
                <span><kbd>&#9166;</kbd> Open</span>
                <span><kbd>Esc</kbd> Close</span>
            </div>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>
