<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hytale Server Documentation</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <button class="menu-toggle" onclick="toggleMenu()">&#9776;</button>
    <aside class="sidebar">
        <div class="sidebar-header">
            <h1>Hytale Server</h1>
            <div class="subtitle">Internal Documentation</div>
            <div class="sidebar-controls">
                <button class="search-trigger" onclick="openSearch()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                    Search...
                    <kbd>&#8984;K</kbd>
                </button>
                <button class="theme-toggle" onclick="toggleTheme()" title="Toggle theme">&#9728;</button>
            </div>
        </div>
        <nav>
            <div class="nav-section">Start</div>
            <a href="index.html" class="active">Overview</a>
            <a href="getting-started.html">Getting Started</a>
            <div class="nav-section">Architecture</div>
            <a href="ecs.html">ECS Architecture</a>
            <a href="threading.html">Threading Model</a>
            <a href="networking.html">Networking</a>
            <a href="worlds.html">Worlds &amp; Universe</a>
            <div class="nav-section">Systems</div>
            <a href="events.html">Event System</a>
            <a href="commands.html">Command System</a>
            <a href="permissions.html">Permissions</a>
            <a href="teleportation.html">Teleportation</a>
            <div class="nav-section">World</div>
            <a href="blocks.html">Blocks</a>
            <a href="worldgen.html">World Generation</a>
            <div class="nav-section">Client</div>
            <a href="ui.html">UI &amp; HUD</a>
            <a href="sound.html">Sound &amp; Audio</a>
            <div class="nav-section">Entities</div>
            <a href="entities.html">Entities &amp; NPCs</a>
            <a href="npc.html">NPC &amp; AI</a>
            <a href="players.html">Players</a>
            <a href="items.html">Items &amp; Inventory</a>
            <a href="combat.html">Damage &amp; Combat</a>
            <div class="nav-section">Development</div>
            <a href="plugins.html">Plugin Development</a>
            <a href="configuration.html">Configuration</a>
            <a href="data-packs.html">Data Packs</a>
            <div class="nav-section">Reference</div>
            <a href="reference.html">ECS Catalog</a>
        </nav>
    </aside>

    <main class="main">
        <div class="content">
            <h1>Hytale Server Documentation</h1>
            <p class="page-desc">Internal reference for the Hytale dedicated server architecture, systems, and plugin development.</p>

            <div class="stats-bar">
                <div class="stat">
                    <div class="stat-value">7,214</div>
                    <div class="stat-label">Java Files</div>
                </div>
                <div class="stat">
                    <div class="stat-value">32</div>
                    <div class="stat-label">Built-in Plugins</div>
                </div>
                <div class="stat">
                    <div class="stat-value">354</div>
                    <div class="stat-label">Packet Types</div>
                </div>
                <div class="stat">
                    <div class="stat-value">956</div>
                    <div class="stat-label">NPC System Files</div>
                </div>
            </div>

            <h2>Architecture Overview</h2>
            <p>The Hytale server is a <strong>Java 25</strong> application built on an <strong>Entity Component System (ECS)</strong> architecture. Unlike traditional object-oriented game servers, entities are not class instances you extend &mdash; they are collections of <em>components</em> stored in a typed <em>Store</em>.</p>

            <h3>Core Hierarchy</h3>
<div class="diagram">
&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;                       Universe                          &#9474;
&#9474;  Singleton: Universe.get()                              &#9474;
&#9474;  Manages all worlds, players, and global state          &#9474;
&#9474;                                                         &#9474;
&#9474;  &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;  &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;      &#9474;
&#9474;  &#9474;     World "lobby"   &#9474;  &#9474;  World "adventure"  &#9474; ...  &#9474;
&#9474;  &#9474;  (TickingThread)    &#9474;  &#9474;  (TickingThread)     &#9474;      &#9474;
&#9474;  &#9474;                     &#9474;  &#9474;                      &#9474;      &#9474;
&#9474;  &#9474;  &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;  &#9474;  &#9474;  &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;   &#9474;      &#9474;
&#9474;  &#9474;  &#9474;  EntityStore   &#9474;  &#9474;  &#9474;  &#9474;  EntityStore   &#9474;   &#9474;      &#9474;
&#9474;  &#9474;  &#9474;               &#9474;  &#9474;  &#9474;  &#9474;               &#9474;   &#9474;      &#9474;
&#9474;  &#9474;  &#9474;  Entity A:    &#9474;  &#9474;  &#9474;  &#9474;  Entity X:    &#9474;   &#9474;      &#9474;
&#9474;  &#9474;  &#9474;   Transform   &#9474;  &#9474;  &#9474;  &#9474;   Transform   &#9474;   &#9474;      &#9474;
&#9474;  &#9474;  &#9474;   Model       &#9474;  &#9474;  &#9474;  &#9474;   Model       &#9474;   &#9474;      &#9474;
&#9474;  &#9474;  &#9474;   PlayerRef   &#9474;  &#9474;  &#9474;  &#9474;   NPCEntity   &#9474;   &#9474;      &#9474;
&#9474;  &#9474;  &#9474;   Nameplate   &#9474;  &#9474;  &#9474;  &#9474;   BoundingBox &#9474;   &#9474;      &#9474;
&#9474;  &#9474;  &#9474;               &#9474;  &#9474;  &#9474;  &#9474;               &#9474;   &#9474;      &#9474;
&#9474;  &#9474;  &#9474;  Entity B:    &#9474;  &#9474;  &#9474;  &#9474;  Entity Y:    &#9474;   &#9474;      &#9474;
&#9474;  &#9474;  &#9474;   Transform   &#9474;  &#9474;  &#9474;  &#9474;   Transform   &#9474;   &#9474;      &#9474;
&#9474;  &#9474;  &#9474;   Model       &#9474;  &#9474;  &#9474;  &#9474;   Model       &#9474;   &#9474;      &#9474;
&#9474;  &#9474;  &#9474;   NetworkId   &#9474;  &#9474;  &#9474;  &#9474;   Nameplate   &#9474;   &#9474;      &#9474;
&#9474;  &#9474;  &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;  &#9474;  &#9474;  &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;   &#9474;      &#9474;
&#9474;  &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;  &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;      &#9474;
&#9474;                                                         &#9474;
&#9474;  &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;   &#9474;
&#9474;  &#9474;                 PlayerStorage                    &#9474;   &#9474;
&#9474;  &#9474;  universe/players/&lt;uuid&gt;.json                    &#9474;   &#9474;
&#9474;  &#9474;  Global data: inventory, recipes, game mode      &#9474;   &#9474;
&#9474;  &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;   &#9474;
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
</div>

            <h3>Key Concepts</h3>
            <ul>
                <li><strong>Universe</strong> &mdash; The singleton root that owns all worlds and players</li>
                <li><strong>World</strong> &mdash; Each world is a <code>TickingThread</code> with its own entity store and tick loop</li>
                <li><strong>EntityStore</strong> &mdash; The ECS database for a world, storing all entities and their components</li>
                <li><strong>Component</strong> &mdash; Pure data attached to entities (Transform, Model, PlayerRef, etc.)</li>
                <li><strong>PlayerRef</strong> &mdash; Thread-safe handle to a player, usable from any thread</li>
                <li><strong>Store / Ref / Holder</strong> &mdash; ECS primitives for querying, referencing, and constructing entities</li>
            </ul>

            <h2>Documentation</h2>

            <h3>Getting Started</h3>
            <div class="cards">
                <a href="getting-started.html" class="card">
                    <h3>Getting Started</h3>
                    <p>Set up your development environment, create your first plugin, and learn the fundamentals of the Hytale server API with a step-by-step tutorial.</p>
                </a>
            </div>

            <h3>Architecture</h3>
            <div class="cards">
                <a href="ecs.html" class="card">
                    <h3>ECS Architecture</h3>
                    <p>Entity Component System: Stores, Holders, Refs, Components, Archetypes, and how entities are composed, queried, and managed at runtime.</p>
                </a>
                <a href="threading.html" class="card">
                    <h3>Threading Model</h3>
                    <p>The Golden Rule, thread contexts, world scheduling, ForkJoinPool, StampedLock, and how to safely perform cross-thread operations.</p>
                </a>
                <a href="networking.html" class="card">
                    <h3>Networking</h3>
                    <p>QUIC-based transport layer, packet protocol with 354 packet types, ServerManager, connection lifecycle, and custom packet handling.</p>
                </a>
                <a href="worlds.html" class="card">
                    <h3>Worlds &amp; Universe</h3>
                    <p>World creation and configuration, the Universe singleton, cross-world operations, instance worlds, and world lifecycle management.</p>
                </a>
            </div>

            <h3>Systems</h3>
            <div class="cards">
                <a href="events.html" class="card">
                    <h3>Event System</h3>
                    <p>IBaseEvent vs EcsEvent, EventBus registration patterns, cancellable events, common events, listener priorities, and critical gotchas.</p>
                </a>
                <a href="commands.html" class="card">
                    <h3>Command System</h3>
                    <p>CommandBase, argument types, CommandContext, permission requirements, thread context constraints, and registration patterns.</p>
                </a>
                <a href="permissions.html" class="card">
                    <h3>Permissions</h3>
                    <p>Group-based permission system, operator management, PermissionHolder API, custom permissions, permission events, and role hierarchies.</p>
                </a>
                <a href="teleportation.html" class="card">
                    <h3>Teleportation</h3>
                    <p>Teleport component, same-world and cross-world transfers, position and rotation handling, velocity preservation, and safety mechanisms.</p>
                </a>
            </div>

            <h3>World</h3>
            <div class="cards">
                <a href="blocks.html" class="card">
                    <h3>Blocks</h3>
                    <p>Block storage hierarchy, palette compression, BlockType assets, BlockState, BlockEntity, chunk sections, block events, ticking, and rotation.</p>
                </a>
                <a href="worldgen.html" class="card">
                    <h3>World Generation</h3>
                    <p>Biome definitions, terrain generation pipeline, chunk generators, cave carving, prefab placement, climate zones, and noise configuration.</p>
                </a>
            </div>

            <h3>Client</h3>
            <div class="cards">
                <a href="ui.html" class="card">
                    <h3>UI &amp; HUD</h3>
                    <p>Titles, notifications, toast messages, custom HUD components, HUD visibility control, objective panels, and UI event handling.</p>
                </a>
                <a href="sound.html" class="card">
                    <h3>Sound &amp; Audio</h3>
                    <p>3D and 2D sound playback, entity-attached audio, sound categories, volume and pitch control, custom sounds via data mods, and ambient audio.</p>
                </a>
            </div>

            <h3>Entities</h3>
            <div class="cards">
                <a href="entities.html" class="card">
                    <h3>Entities &amp; NPCs</h3>
                    <p>Spawning entities, entity lifecycle, death detection, damage sources, LOD culling, network visibility, and the entity tracker system.</p>
                </a>
                <a href="npc.html" class="card">
                    <h3>NPC &amp; AI</h3>
                    <p>NPC behavior trees, blackboard data, decision makers, navigation and pathfinding, sensors, role assignment, and instruction scheduling.</p>
                </a>
                <a href="players.html" class="card">
                    <h3>Players</h3>
                    <p>PlayerRef vs Player component, data persistence, inventory management, UUID tracking, game mode handling, and the connect/disconnect lifecycle.</p>
                </a>
                <a href="items.html" class="card">
                    <h3>Items &amp; Inventory</h3>
                    <p>ItemStack API, hotbar and backpack slots, armor equipment, weapon and tool types, durability, crafting recipes, and inventory events.</p>
                </a>
                <a href="combat.html" class="card">
                    <h3>Damage &amp; Combat</h3>
                    <p>Damage pipeline, health management, death and respawn flow, armor reduction, knockback physics, status effects, stat modifiers, and DamageCause types.</p>
                </a>
            </div>

            <h3>Development</h3>
            <div class="cards">
                <a href="plugins.html" class="card">
                    <h3>Plugin Development</h3>
                    <p>JavaPlugin entry point, Gradle project setup, plugin manifest, registry access, event and command registration, data mods, and deployment.</p>
                </a>
                <a href="configuration.html" class="card">
                    <h3>Configuration</h3>
                    <p>Server configuration files, CLI options, authentication settings, bind address, backup management, transport tuning, and runtime overrides.</p>
                </a>
            </div>

            <h3>Reference</h3>
            <div class="cards">
                <a href="reference.html" class="card">
                    <h3>ECS Catalog</h3>
                    <p>Complete catalog of all ECS components, systems, entity trackers, physics components, projectile types, nameplate variants, and player-related types.</p>
                </a>
            </div>

        </div>
    </main>

    <div class="search-overlay">
        <div class="search-modal">
            <div class="search-input-wrap">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                <input type="text" class="search-input" placeholder="Search documentation..." autofocus>
            </div>
            <div class="search-results"></div>
            <div class="search-footer">
                <span><kbd>&#8593;&#8595;</kbd> Navigate</span>
                <span><kbd>&#9166;</kbd> Open</span>
                <span><kbd>Esc</kbd> Close</span>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
