<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuration - Hytale Server Docs</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <button class="menu-toggle" onclick="toggleMenu()">&#9776;</button>
    <aside class="sidebar">
        <div class="sidebar-header">
            <h1>Hytale Server</h1>
            <div class="subtitle">Internal Documentation</div>
            <div class="sidebar-controls">
                <button class="search-trigger" onclick="openSearch()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                    Search...
                    <kbd>&#8984;K</kbd>
                </button>
                <button class="theme-toggle" onclick="toggleTheme()" title="Toggle theme">&#9728;</button>
            </div>
        </div>
        <nav>
            <div class="nav-section">Start</div>
            <a href="index.html">Overview</a>
            <a href="getting-started.html">Getting Started</a>
            <div class="nav-section">Architecture</div>
            <a href="ecs.html">ECS Architecture</a>
            <a href="threading.html">Threading Model</a>
            <a href="networking.html">Networking</a>
            <a href="worlds.html">Worlds &amp; Universe</a>
            <div class="nav-section">Systems</div>
            <a href="events.html">Event System</a>
            <a href="commands.html">Command System</a>
            <a href="permissions.html">Permissions</a>
            <a href="teleportation.html">Teleportation</a>
            <div class="nav-section">World</div>
            <a href="blocks.html">Blocks</a>
            <a href="worldgen.html">World Generation</a>
            <div class="nav-section">Client</div>
            <a href="ui.html">UI &amp; HUD</a>
            <a href="sound.html">Sound &amp; Audio</a>
            <div class="nav-section">Entities</div>
            <a href="entities.html">Entities &amp; NPCs</a>
            <a href="npc.html">NPC &amp; AI</a>
            <a href="players.html">Players</a>
            <a href="items.html">Items &amp; Inventory</a>
            <a href="combat.html">Damage &amp; Combat</a>
            <div class="nav-section">Development</div>
            <a href="plugins.html">Plugin Development</a>
            <a href="configuration.html" class="active">Configuration</a>
            <div class="nav-section">Reference</div>
            <a href="reference.html">ECS Catalog</a>
        </nav>
    </aside>

    <div class="page-toc"></div>

    <main class="main">
        <div class="content">
            <h1>Server Configuration</h1>
            <p class="page-desc">Server configuration via HytaleServerConfig, command-line Options, world settings, plugin configs, and the server boot sequence.</p>

            <section id="overview">
                <h2 id="overview-heading">Overview</h2>
                <p>The Hytale server is configured through two primary mechanisms: the <span class="type">HytaleServerConfig</span> file (JSON-based server configuration) and the <span class="type">Options</span> class (command-line flags). Together they control networking, authentication, backups, module enablement, rate limiting, timeouts, and per-plugin settings.</p>
                <p>At startup, <span class="fn">Main.main()</span> parses command-line arguments into an <span class="type">Options</span> instance, loads the <span class="type">HytaleServerConfig</span> from disk, and passes both into the boot sequence. Individual worlds are further configured via <span class="type">WorldConfig</span>, and plugins can define their own type-safe configuration files using the <span class="type">Config&lt;T&gt;</span> system.</p>

                <div class="info-box note">
                    <div class="label">Configuration Hierarchy</div>
                    <p>Command-line options take precedence over file-based configuration. For example, <code>--bind</code> overrides the <code>port</code> field in <span class="type">HytaleServerConfig</span>. Plugin configs are independent and managed per-plugin.</p>
                </div>
            </section>

            <section id="server-config">
                <h2 id="server-config-heading">Server Configuration (HytaleServerConfig)</h2>
                <p>Package: <code>com.hypixel.hytale.server.core.config</code></p>
                <p>The main server configuration is defined by the <span class="type">HytaleServerConfig</span> class and serialized as a JSON file. It controls all core server behavior including networking, player limits, modules, and timeouts.</p>

                <h3 id="config-fields">Configuration Fields</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code><span class="field">serverName</span></code></td>
                            <td><span class="type">String</span></td>
                            <td>Display name shown in server listings and logs</td>
                        </tr>
                        <tr>
                            <td><code><span class="field">maxPlayers</span></code></td>
                            <td><span class="type">int</span></td>
                            <td>Maximum number of concurrent players allowed on the server</td>
                        </tr>
                        <tr>
                            <td><code><span class="field">port</span></code></td>
                            <td><span class="type">int</span></td>
                            <td>Default bind port for the server (overridden by <code>--bind</code>)</td>
                        </tr>
                        <tr>
                            <td><code><span class="field">modules</span></code></td>
                            <td><span class="type">Map&lt;String, Boolean&gt;</span></td>
                            <td>Module enablement flags &mdash; toggle server subsystems on/off</td>
                        </tr>
                        <tr>
                            <td><code><span class="field">modConfig</span></code></td>
                            <td><span class="type">Map&lt;String, Object&gt;</span></td>
                            <td>Per-plugin settings passed to plugins at initialization</td>
                        </tr>
                        <tr>
                            <td><code><span class="field">timeoutProfile</span></code></td>
                            <td><span class="type">TimeoutProfile</span></td>
                            <td>Connection timeout settings for network connections</td>
                        </tr>
                        <tr>
                            <td><code><span class="field">rateLimitConfig</span></code></td>
                            <td><span class="type">RateLimitConfig</span></td>
                            <td>Rate limiting rules for incoming packets and connections</td>
                        </tr>
                        <tr>
                            <td><code><span class="field">updateConfig</span></code></td>
                            <td><span class="type">UpdateConfig</span></td>
                            <td>Auto-update settings for server binary and asset updates</td>
                        </tr>
                    </tbody>
                </table>

                <h3 id="config-example">Example Configuration</h3>
                <div class="code-block">
<pre><span class="comment">// server-config.json</span>
{
    <span class="str">"serverName"</span>: <span class="str">"My Hytale Server"</span>,
    <span class="str">"maxPlayers"</span>: 20,
    <span class="str">"port"</span>: 27015,
    <span class="str">"modules"</span>: {
        <span class="str">"combat"</span>: <span class="kw">true</span>,
        <span class="str">"economy"</span>: <span class="kw">false</span>,
        <span class="str">"worldgen"</span>: <span class="kw">true</span>
    },
    <span class="str">"modConfig"</span>: {
        <span class="str">"myplugin"</span>: {
            <span class="str">"difficulty"</span>: <span class="str">"hard"</span>,
            <span class="str">"maxLives"</span>: 3
        }
    },
    <span class="str">"timeoutProfile"</span>: {
        <span class="str">"connectionTimeout"</span>: 30000,
        <span class="str">"readTimeout"</span>: 15000,
        <span class="str">"writeTimeout"</span>: 15000
    },
    <span class="str">"rateLimitConfig"</span>: {
        <span class="str">"enabled"</span>: <span class="kw">true</span>,
        <span class="str">"maxPacketsPerSecond"</span>: 500
    },
    <span class="str">"updateConfig"</span>: {
        <span class="str">"autoUpdate"</span>: <span class="kw">false</span>,
        <span class="str">"checkInterval"</span>: 3600
    }
}</pre>
                </div>

                <h3 id="accessing-config">Accessing the Configuration</h3>
                <div class="code-block">
<pre><span class="comment">// Access the server config from within a plugin</span>
<span class="type">HytaleServerConfig</span> config = <span class="type">HytaleServer</span>.<span class="fn">getConfig</span>();

<span class="comment">// Read config fields</span>
<span class="type">String</span> name = config.<span class="fn">getServerName</span>();
<span class="kw">int</span> maxPlayers = config.<span class="fn">getMaxPlayers</span>();
<span class="kw">int</span> port = config.<span class="fn">getPort</span>();

<span class="comment">// Check module enablement</span>
<span class="kw">boolean</span> combatEnabled = config.<span class="fn">getModules</span>().<span class="fn">getOrDefault</span>(<span class="str">"combat"</span>, <span class="kw">true</span>);

<span class="comment">// Get per-plugin settings</span>
<span class="type">Object</span> pluginConf = config.<span class="fn">getModConfig</span>().<span class="fn">get</span>(<span class="str">"myplugin"</span>);</pre>
                </div>
            </section>

            <section id="timeout-profile">
                <h2 id="timeout-profile-heading">Timeout Profile</h2>
                <p>The <span class="type">TimeoutProfile</span> controls network connection timeouts. These values determine how long the server waits before dropping unresponsive connections at each phase of the connection lifecycle.</p>

                <table>
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Type</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code><span class="field">connectionTimeout</span></code></td>
                            <td><span class="type">int</span> (ms)</td>
                            <td>30000</td>
                            <td>Maximum time for initial connection handshake to complete</td>
                        </tr>
                        <tr>
                            <td><code><span class="field">readTimeout</span></code></td>
                            <td><span class="type">int</span> (ms)</td>
                            <td>15000</td>
                            <td>Maximum time to wait for a packet read before disconnecting</td>
                        </tr>
                        <tr>
                            <td><code><span class="field">writeTimeout</span></code></td>
                            <td><span class="type">int</span> (ms)</td>
                            <td>15000</td>
                            <td>Maximum time for a packet write to complete before disconnecting</td>
                        </tr>
                    </tbody>
                </table>

                <div class="info-box warning">
                    <div class="label">Production Tuning</div>
                    <p>Setting timeouts too low can cause legitimate players on high-latency connections to be dropped. Setting them too high can leave stale connections consuming server resources. Profile your player base before adjusting these values.</p>
                </div>
            </section>

            <section id="cli-options">
                <h2 id="cli-options-heading">Command-Line Options</h2>
                <p>Package: <code>com.hypixel.hytale.server.core.config</code></p>
                <p>The <span class="type">Options</span> class defines all command-line flags accepted by the server. These are parsed at startup by <span class="fn">Main.main()</span> and take precedence over file-based configuration where applicable.</p>

                <table>
                    <thead>
                        <tr>
                            <th>Flag</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>--auth-mode</code></td>
                            <td><span class="type">String</span></td>
                            <td>Authentication type &mdash; controls how players are verified on connect</td>
                        </tr>
                        <tr>
                            <td><code>--bind</code></td>
                            <td><span class="type">Address</span></td>
                            <td>Server bind address and port (e.g. <code>0.0.0.0:27015</code>). Overrides config <code>port</code></td>
                        </tr>
                        <tr>
                            <td><code>--transport</code></td>
                            <td><span class="type">String</span></td>
                            <td>Network transport protocol: <code>QUIC</code> or <code>TCP</code></td>
                        </tr>
                        <tr>
                            <td><code>--backup</code></td>
                            <td><span class="type">Boolean</span></td>
                            <td>Enable automatic universe backups</td>
                        </tr>
                        <tr>
                            <td><code>--backup-frequency-minutes</code></td>
                            <td><span class="type">int</span></td>
                            <td>Interval in minutes between automatic backups</td>
                        </tr>
                        <tr>
                            <td><code>--bare</code></td>
                            <td><span class="type">Boolean</span></td>
                            <td>Run in bare mode with no network listeners (useful for offline tooling)</td>
                        </tr>
                        <tr>
                            <td><code>--migrations</code></td>
                            <td><span class="type">Boolean</span></td>
                            <td>Run data migrations on startup before accepting connections</td>
                        </tr>
                        <tr>
                            <td><code>--disable-sentry</code></td>
                            <td><span class="type">Boolean</span></td>
                            <td>Disable Sentry error reporting and telemetry</td>
                        </tr>
                        <tr>
                            <td><code>--mods-directories</code></td>
                            <td><span class="type">String[]</span></td>
                            <td>Additional directories to scan for plugin JARs (comma-separated)</td>
                        </tr>
                        <tr>
                            <td><code>--boot-commands</code></td>
                            <td><span class="type">String[]</span></td>
                            <td>Commands to execute automatically once the server finishes booting</td>
                        </tr>
                    </tbody>
                </table>

                <h3 id="cli-usage">Usage Examples</h3>
                <div class="code-block">
<pre><span class="comment"># Start with custom bind address and QUIC transport</span>
java -jar server.jar --bind 0.0.0.0:27015 --transport QUIC

<span class="comment"># Enable backups every 30 minutes</span>
java -jar server.jar --backup --backup-frequency-minutes 30

<span class="comment"># Run in bare mode for offline world processing</span>
java -jar server.jar --bare --migrations

<span class="comment"># Load extra mods from multiple directories</span>
java -jar server.jar --mods-directories /opt/mods,/home/server/extra-mods

<span class="comment"># Execute commands on boot (e.g. set weather, broadcast message)</span>
java -jar server.jar --boot-commands "time set day,broadcast Server ready!"

<span class="comment"># Disable error reporting for development</span>
java -jar server.jar --disable-sentry --auth-mode dev</pre>
                </div>

                <div class="info-box note">
                    <div class="label">Bare Mode</div>
                    <p>When <code>--bare</code> is set, the server boots without binding any network listeners. This is useful for running data migrations, world pre-generation, or other offline batch operations without accepting player connections.</p>
                </div>
            </section>

            <section id="world-config">
                <h2 id="world-config-heading">World Configuration (WorldConfig)</h2>
                <p>Package: <code>com.hypixel.hytale.server.core.universe.world.config</code></p>
                <p>Each world has its own <span class="type">WorldConfig</span> that controls gameplay and world-specific settings. The config is loaded when the world is created and can be accessed at runtime via <span class="fn">world.getWorldConfig()</span>.</p>

                <table>
                    <thead>
                        <tr>
                            <th>Setting</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code><span class="field">chunkLoadRadius</span></code></td>
                            <td><span class="type">int</span></td>
                            <td>Radius (in chunks) around each player to keep loaded</td>
                        </tr>
                        <tr>
                            <td><code><span class="field">mobSpawning</span></code></td>
                            <td><span class="type">boolean</span></td>
                            <td>Whether mob spawning is enabled in this world</td>
                        </tr>
                        <tr>
                            <td><code><span class="field">mobSpawnRate</span></code></td>
                            <td><span class="type">float</span></td>
                            <td>Multiplier for mob spawn frequency (1.0 = default)</td>
                        </tr>
                        <tr>
                            <td><code><span class="field">pvpEnabled</span></code></td>
                            <td><span class="type">boolean</span></td>
                            <td>Whether player-vs-player combat is allowed</td>
                        </tr>
                        <tr>
                            <td><code><span class="field">pveEnabled</span></code></td>
                            <td><span class="type">boolean</span></td>
                            <td>Whether player-vs-environment damage is active</td>
                        </tr>
                        <tr>
                            <td><code><span class="field">timeCycleEnabled</span></code></td>
                            <td><span class="type">boolean</span></td>
                            <td>Whether the day/night cycle advances</td>
                        </tr>
                        <tr>
                            <td><code><span class="field">timeCycleSpeed</span></code></td>
                            <td><span class="type">float</span></td>
                            <td>Speed multiplier for the day/night cycle</td>
                        </tr>
                        <tr>
                            <td><code><span class="field">dimension</span></code></td>
                            <td><span class="type">String</span></td>
                            <td>Dimension type identifier (affects sky, lighting, mob spawns)</td>
                        </tr>
                        <tr>
                            <td><code><span class="field">spawnProvider</span></code></td>
                            <td><span class="type">SpawnProvider</span></td>
                            <td>Strategy for determining player spawn positions</td>
                        </tr>
                    </tbody>
                </table>

                <h3 id="world-config-access">Accessing World Configuration</h3>
                <div class="code-block">
<pre><span class="type">World</span> world = <span class="type">Universe</span>.<span class="fn">get</span>().<span class="fn">getWorld</span>(<span class="str">"overworld"</span>);
<span class="type">WorldConfig</span> config = world.<span class="fn">getWorldConfig</span>();

<span class="comment">// Check PvP status</span>
<span class="kw">boolean</span> pvp = config.<span class="fn">isPvpEnabled</span>();

<span class="comment">// Get chunk loading radius</span>
<span class="kw">int</span> radius = config.<span class="fn">getChunkLoadRadius</span>();

<span class="comment">// Access the spawn provider</span>
<span class="type">SpawnProvider</span> spawner = config.<span class="fn">getSpawnProvider</span>();
<span class="type">Vector3d</span> spawnPos = spawner.<span class="fn">getSpawnPoint</span>(world, playerUuid);

<span class="comment">// Check mob spawning settings</span>
<span class="kw">if</span> (config.<span class="fn">isMobSpawning</span>()) {
    <span class="kw">float</span> rate = config.<span class="fn">getMobSpawnRate</span>();
    logger.<span class="fn">info</span>(<span class="str">"Mob spawn rate: "</span> + rate);
}</pre>
                </div>
            </section>

            <section id="plugin-config">
                <h2 id="plugin-config-heading">Plugin Configuration</h2>
                <p>Package: <code>com.hypixel.hytale.server.core.config</code></p>
                <p>Plugins can define their own typed configuration files using the <span class="type">Config&lt;T&gt;</span> system. This provides JSON/YAML serialization, type-safe access via generics, and optional file watching for hot reload when configuration files are modified on disk.</p>

                <h3 id="creating-config">Creating a Plugin Config</h3>
                <div class="code-block">
<pre><span class="comment">// Define a config data class</span>
<span class="kw">public class</span> <span class="type">MyPluginSettings</span> {
    <span class="kw">private</span> <span class="type">String</span> <span class="field">welcomeMessage</span> = <span class="str">"Welcome to the server!"</span>;
    <span class="kw">private</span> <span class="kw">int</span> <span class="field">maxHomes</span> = 3;
    <span class="kw">private</span> <span class="kw">boolean</span> <span class="field">enableTeleportCooldown</span> = <span class="kw">true</span>;
    <span class="kw">private</span> <span class="kw">double</span> <span class="field">teleportCooldownSeconds</span> = 5.0;

    <span class="comment">// Getters</span>
    <span class="kw">public</span> <span class="type">String</span> <span class="fn">getWelcomeMessage</span>() { <span class="kw">return</span> <span class="field">welcomeMessage</span>; }
    <span class="kw">public</span> <span class="kw">int</span> <span class="fn">getMaxHomes</span>() { <span class="kw">return</span> <span class="field">maxHomes</span>; }
    <span class="kw">public</span> <span class="kw">boolean</span> <span class="fn">isEnableTeleportCooldown</span>() { <span class="kw">return</span> <span class="field">enableTeleportCooldown</span>; }
    <span class="kw">public</span> <span class="kw">double</span> <span class="fn">getTeleportCooldownSeconds</span>() { <span class="kw">return</span> <span class="field">teleportCooldownSeconds</span>; }
}</pre>
                </div>

                <h3 id="loading-config">Loading and Using a Config</h3>
                <div class="code-block">
<pre><span class="kw">public class</span> <span class="type">MyPlugin</span> <span class="kw">extends</span> <span class="type">JavaPlugin</span> {
    <span class="kw">private</span> <span class="type">Config</span>&lt;<span class="type">MyPluginSettings</span>&gt; <span class="field">config</span>;

    <span class="kw">public</span> <span class="type">MyPlugin</span>(<span class="type">JavaPluginInit</span> init) {
        <span class="kw">super</span>(init);
    }

    @<span class="type">Override</span>
    <span class="kw">protected void</span> <span class="fn">setup</span>() {
        <span class="comment">// Load config from config/myplugin/settings.json</span>
        <span class="field">config</span> = <span class="kw">new</span> <span class="type">Config</span>&lt;&gt;(
            <span class="str">"myplugin/settings.json"</span>,
            <span class="type">MyPluginSettings</span>.<span class="kw">class</span>
        );
        <span class="field">config</span>.<span class="fn">load</span>();

        <span class="comment">// Enable file watching for hot reload</span>
        <span class="field">config</span>.<span class="fn">enableFileWatching</span>();

        <span class="comment">// Access typed settings</span>
        <span class="type">MyPluginSettings</span> settings = <span class="field">config</span>.<span class="fn">get</span>();
        <span class="fn">getLogger</span>().<span class="fn">info</span>(<span class="str">"Max homes: "</span> + settings.<span class="fn">getMaxHomes</span>());
    }
}</pre>
                </div>

                <div class="info-box note">
                    <div class="label">Hot Reload</div>
                    <p>When file watching is enabled via <span class="fn">enableFileWatching()</span>, the <span class="type">Config&lt;T&gt;</span> system monitors the config file for changes. When the file is modified on disk, it is automatically re-deserialized and the <span class="fn">get()</span> method returns the updated settings without requiring a server restart.</p>
                </div>
            </section>

            <section id="boot-flow">
                <h2 id="boot-flow-heading">Server Boot Flow</h2>
                <p>Package: <code>com.hypixel.hytale.server.core</code></p>
                <p>The server follows a well-defined boot sequence orchestrated by <span class="fn">HytaleServer.boot()</span>. Understanding this flow is critical for knowing when configuration is applied and when plugins can safely access server systems.</p>

<div class="diagram">Main.main()
 &#9474;
 &#9500;&#9472; Parse command-line Options
 &#9500;&#9472; Set Java environment (Java 21, headless, UTF-8, English locale)
 &#9474;
 &#9492;&#9472; HytaleServer.boot()
     &#9474;
     &#9500;&#9472; setup()
     &#9474;    &#9500;&#9472; Load HytaleServerConfig from disk
     &#9474;    &#9500;&#9472; Initialize core subsystems
     &#9474;    &#9492;&#9472; Configure networking (transport, bind, timeouts)
     &#9474;
     &#9500;&#9472; CommandManager.registerCommands()
     &#9474;    &#9492;&#9472; Register all built-in server commands
     &#9474;
     &#9500;&#9472; PluginManager.setup()
     &#9474;    &#9500;&#9472; Discover plugins (see Plugin Discovery Order)
     &#9474;    &#9492;&#9472; Call setup() on each plugin
     &#9474;
     &#9500;&#9472; ServerAuthManager.initializeCredentialStore()
     &#9474;    &#9492;&#9472; Load authentication credentials and keys
     &#9474;
     &#9500;&#9472; LoadAssetEvent
     &#9474;    &#9492;&#9472; Load all game assets (blocks, items, sounds, etc.)
     &#9474;
     &#9500;&#9472; PluginManager.start()
     &#9474;    &#9492;&#9472; Call start() on each plugin (assets now available)
     &#9474;
     &#9500;&#9472; Universe ready
     &#9474;    &#9492;&#9472; Load worlds, initialize world threads
     &#9474;
     &#9500;&#9472; ServerManager.bind()
     &#9474;    &#9492;&#9472; Bind network listeners (skipped in --bare mode)
     &#9474;
     &#9500;&#9472; BootEvent
     &#9474;    &#9492;&#9472; Fire BootEvent to all listeners
     &#9474;
     &#9492;&#9472; Execute --boot-commands
          &#9492;&#9472; Run any commands specified via CLI
</div>

                <div class="info-box warning">
                    <div class="label">Plugin Lifecycle Timing</div>
                    <p><span class="fn">setup()</span> is called <strong>before</strong> assets are loaded. Do not attempt to access <span class="type">BlockType</span>, <span class="type">ItemType</span>, or other asset registries in <span class="fn">setup()</span>. Use <span class="fn">start()</span> for asset-dependent initialization, or listen for the <span class="type">LoadAssetEvent</span>.</p>
                </div>
            </section>

            <section id="plugin-discovery">
                <h2 id="plugin-discovery-heading">Plugin Discovery Order</h2>
                <p>During <span class="fn">PluginManager.setup()</span>, plugins are discovered and loaded in a specific order. Later sources can override earlier ones if plugin names conflict.</p>

                <ol>
                    <li><strong>Core plugins</strong> &mdash; Registered explicitly in the server codebase via <span class="fn">PluginManager.registerCorePlugin()</span></li>
                    <li><strong>Built-in plugins</strong> &mdash; Bundled with the server distribution (32 built-in plugins)</li>
                    <li><strong>Classpath plugins</strong> &mdash; Discovered via Java classpath scanning</li>
                    <li><strong>Mod directory</strong> &mdash; JARs found in the <code>/mods</code> directory</li>
                    <li><strong>Extra mod directories</strong> &mdash; Additional directories specified via <code>--mods-directories</code></li>
                </ol>

<div class="diagram">Plugin Discovery Order
&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;  1. Core Plugins       (server-internal, highest priority) &#9474;
&#9474;  2. Built-in Plugins   (bundled with server JAR)           &#9474;
&#9474;  3. Classpath Plugins  (discovered via classloader scan)   &#9474;
&#9474;  4. /mods Directory    (user-deployed plugin JARs)         &#9474;
&#9474;  5. Extra Directories  (--mods-directories paths)          &#9474;
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
</div>

                <h3 id="mods-directory">Mod Directory Structure</h3>
                <div class="code-block">
<pre>server/
&#9500;&#9472;&#9472; mods/                          <span class="comment"># Default mod directory</span>
&#9474;   &#9500;&#9472;&#9472; MyPlugin.jar
&#9474;   &#9500;&#9472;&#9472; AnotherPlugin.jar
&#9474;   &#9492;&#9472;&#9472; economy/
&#9474;       &#9492;&#9472;&#9472; EconomyPlugin.jar
&#9500;&#9472;&#9472; config/                        <span class="comment"># Plugin config directory</span>
&#9474;   &#9500;&#9472;&#9472; myplugin/
&#9474;   &#9474;   &#9492;&#9472;&#9472; settings.json
&#9474;   &#9492;&#9472;&#9472; economy/
&#9474;       &#9492;&#9472;&#9472; config.json
&#9500;&#9472;&#9472; data/                          <span class="comment"># Plugin runtime data</span>
&#9474;   &#9492;&#9472;&#9472; myplugin/
&#9474;       &#9492;&#9472;&#9472; player-homes.json
&#9492;&#9472;&#9472; server-config.json             <span class="comment"># Main server config</span></pre>
                </div>
            </section>

            <section id="backup-system">
                <h2 id="backup-system-heading">Backup System</h2>
                <p>The backup system is triggered by <span class="fn">Universe.runBackup()</span>, which creates a <span class="type">BackupTask</span> for all loaded worlds. Backups can be enabled automatically via the <code>--backup</code> CLI flag with a configurable interval via <code>--backup-frequency-minutes</code>.</p>

                <div class="code-block">
<pre><span class="comment">// Trigger a manual backup from a plugin</span>
<span class="type">Universe</span>.<span class="fn">get</span>().<span class="fn">runBackup</span>();

<span class="comment">// The backup system:</span>
<span class="comment">// 1. Pauses world ticking briefly</span>
<span class="comment">// 2. Creates a BackupTask for each loaded world</span>
<span class="comment">// 3. Copies world data to the backup directory</span>
<span class="comment">// 4. Resumes world ticking</span></pre>
                </div>

                <table>
                    <thead>
                        <tr>
                            <th>CLI Option</th>
                            <th>Effect</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>--backup</code></td>
                            <td>Enables the automatic backup scheduler</td>
                        </tr>
                        <tr>
                            <td><code>--backup-frequency-minutes 30</code></td>
                            <td>Sets the interval between automatic backups (in minutes)</td>
                        </tr>
                    </tbody>
                </table>

                <div class="info-box note">
                    <div class="label">Backup Scope</div>
                    <p>Backups include all world data (chunks, entities, block states) and player storage. Plugin data in the <code>data/</code> directory is not included by default &mdash; plugins are responsible for their own data backup strategies.</p>
                </div>
            </section>

            <section id="environment">
                <h2 id="environment-heading">Key Environment</h2>
                <p>The server entry point (<span class="fn">Main.main()</span>) configures the JVM environment before any server systems are initialized. These settings are established in <code>Main.java</code> and cannot be overridden at runtime.</p>

                <table>
                    <thead>
                        <tr>
                            <th>Setting</th>
                            <th>Value</th>
                            <th>Purpose</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Java Version</td>
                            <td>Java 21</td>
                            <td>Minimum required JVM version for the server</td>
                        </tr>
                        <tr>
                            <td>AWT Headless</td>
                            <td><code>java.awt.headless=true</code></td>
                            <td>Disables GUI subsystem for headless server operation</td>
                        </tr>
                        <tr>
                            <td>File Encoding</td>
                            <td>UTF-8</td>
                            <td>Ensures consistent text encoding across platforms</td>
                        </tr>
                        <tr>
                            <td>Locale</td>
                            <td><code>Locale.ENGLISH</code></td>
                            <td>Prevents locale-dependent formatting issues (e.g. decimal separators)</td>
                        </tr>
                    </tbody>
                </table>

                <h3 id="jvm-flags">Recommended JVM Flags</h3>
                <div class="code-block">
<pre><span class="comment"># Production server launch with recommended flags</span>
java \
    -Xms4G -Xmx4G \
    -XX:+UseZGC \
    -Djava.awt.headless=<span class="kw">true</span> \
    -Dfile.encoding=UTF-8 \
    -jar server.jar \
    --bind 0.0.0.0:27015 \
    --transport QUIC \
    --backup \
    --backup-frequency-minutes 60</pre>
                </div>

                <div class="info-box warning">
                    <div class="label">Java Version Requirement</div>
                    <p>The server requires Java 21 or higher. Running on an earlier JVM version will cause startup failures. The <code>Main.java</code> entry point enforces the headless mode, UTF-8 encoding, and English locale settings before delegating to the boot sequence.</p>
                </div>
            </section>

        </div>
    </main>

    <div class="search-overlay">
        <div class="search-modal">
            <div class="search-input-wrap">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                <input type="text" class="search-input" placeholder="Search documentation..." autofocus>
            </div>
            <div class="search-results"></div>
            <div class="search-footer">
                <span><kbd>&#8593;&#8595;</kbd> Navigate</span>
                <span><kbd>&#9166;</kbd> Open</span>
                <span><kbd>Esc</kbd> Close</span>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
